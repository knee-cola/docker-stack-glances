version: '3.8'

networks:
  traefik-network:
    name: "traefik-network"
    external: true

services:
  server:
    image: nicolargo/glances:4.3.3
    deploy:
      mode: replicated
      replicas: 1
      restart_policy:
        condition: any
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
    pid: "host"
    environment:
      - "GLANCES_OPT=-w" # run the container in Web server mode
      - TZ=Europe/Zagreb  # Adjust to your timezone
    networks:
      - traefik-network
